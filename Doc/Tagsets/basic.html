<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" 

<!-- Begin Document Specific Declarations -->

<!-- End Document Specific Declarations -->


<html><head><title>Basic Tagset Manual</title></head>
<body>
<center><h1>Basic Tagset Manual</h1></center>

<p>This document introduces the <a
href="tsdoc/basic.html"><code>basic</code></a> tagset, the most fundamental of
several predefined tagsets available to users and developers working with the
PIA.  <code>basic</code> defines all of the elements that make documents in
the PIA ``active.''</p>

The other commonly-used tagsets are:</p>

<ul>
  <li><a href="tsdoc/xxml.html"><code>xxml</code></a><br>the
       basic tagset extended with some XML convenience functions</li>
  <li><a href="tsdoc/xhtml.html"><code>xhtml</code></a><br>the
       basic tagset extended with some HTML convenience functions</li>
  <li><a href="tsdoc/pia-xhtml.html"><code>pia-xhtml</code></a><br>the
       default XHTML tagset used by the PIA</li>
</ul>

<p>Some additional tagsets are defined for special-purpose applications.  For
example, the <a href="tsdoc/tsdoc.html"><code>tsdoc</code></a> tagset is used
to automatically generate documentation files from tagset files.  The
<code>basic</code> constructs are all that the average author will need in
most cases.</p>

<p>Currently the best source of examples of tag set use is the demo agent. If
you wish to view these examples without using the PIA, look at the listing of
<a href="demo/index.html">demo files</a>.</p>

<p>This document contains a <a href="#quick">quick reference</a> table that
contains links to the automatically-generated documentation in <a
href="tsdoc/basic.html"><code>tsdoc/basic.html</code></a>. </p>

<p>If you are unfamiliar with the documentation, you should first look at <a
href="#howtoread">How to Read Tagset Descriptions</a>.</p>

<h2>Introducing the Basic Tagset</h2>

<p>The basic tagset consists of <em>primitive</em> tags
that are predefined. These tags provide generally useful functions
and can be used as is. Primitive tags can also be used as components
of new tags that you create yourself.</p>

<p>Extending the primitive
tagset requires the use of a special tag, <code>&#60;define></code> whose
purpose is to construct other tags. The <code>&#60;define></code> tag
is used to specify the tag name and all other necessary information
about the tag including its attributes.</p><p><em>Tag</em> is used
here in much the same way that <em>element</em> might be used in
an XML or SGML DTD. Defining a tag requires the same information
one might supply for a DTD element. This includes the following:</p>

<ul>
<li>the element name</li>
<li>any attributes that element might have</li>
<li>modifiers that specify whether the attributes are required or
optional and what value types they may take on</li>
<li>what subelements can occur as children of this element</li>
<li>what parent element this element must have</li>
</ul>

<p>XHTML tags are <em>active</em> tags in that they constitute not merely
markup but a directive to take some action. and can require some additional
information not required of XML/SGML element definitions.  This information
reflects the special uses to which these tags are put. This includes the tag's
<em>handler</em>, a specification of the Java class that is associated with
actions to be carried out when this element is present. The keyword
<em>handler</em> can be followed with the name of the class to be used. If no
class is named, the handler is assumed to have the same name as the tag.</p>

<p>When viewed as active tags, XHTML tags are much like Java or C++ methods.
They have a name, a documentation field, optional arguments, and they perform
some sort of action. A combination of HTML, XML, or other XTHML tags can be
used in the action clause. The last item evaluated in the action clause is
returned, so long as it has a return value.</p>

<p>Viewed in this light, a tag's attributes are analogous to the arguments
that may be passed into a function. </p>

<p>A simple tag definition
for the user-defined tag <code>my_tag</code> is presented here:</p><blockquote><code>&#60;define
element=my_tag></code>

<blockquote><code>&#60;doc> Given a string
attribute, prints that string in a bold font.&#60;/doc>&#60;define
attribute=my_attr required>&#60;/define>&#60;action></code></blockquote><blockquote><blockquote><code>&#60;b>&#38;attributes:my_attr;&#60;/b></code></blockquote><code>&#60;/action></code></blockquote><code>&#60;/define></code></blockquote><p>The <code>&#60;doc></code> element
serves to document the tag's actions. The <code>&#60;action></code> element
specifies the action taken when this tag is evaluated. In this case
it prints the tag's attribute using a bold font. The following example
shows how, once defined, this tag might be used in an active document.</p>

<blockquote><code>&#60;my_tag
my_attr="Hello World">&#60;/my_tag></code></blockquote>

<h2>Noteworthy</h2>

<ul>
  <li>A tagset file can be converted into HTML using the <a
       href="tsdoc/tsdoc.html">tsdoc</a> tagset. Eventually it will be
       possible to process tagset files into DTD's as well. It is conceivable
       that we could even process them into Java or C, perhaps using embedded
       <code>&#60;code></code> tags with a <code>language</code>
       attribute.</li>
  <li>SGML requires that the element named in the
       <code>&#60;!doctype...></code> declaration must be the highest level
       (outermost) element in the document.</li>
  <li>This tagset includes documentation in HTML, in spite of the fact that
       HTML is not a superset of the tagset being defined. The syntax of the
       document that defines a tagset and the syntax defined <em>by</em> the
       tagset are, potentially, completely disjoint. Because of the included
       HTML, this document does <em>not</em> qualify as XML. It could,
       however, be described in SGML or converted to XML by outputting empty
       HTML tags with the XML empty-tag delimiter.</li></ul>

<h2>Tagset Overview</h2>

<p>The tagset categories and their elements described in this document are
listed in the quick reference table that follows.  Each element and attribute
name in the table is linked to a tagset definition file for that element. If
you are unfamiliar with these files, read the following section before linking
to a definition.</p>

<h3><a name="howtoread">How to Read Tagset Descriptions</a></h3>

<p>A tagset definition file consists of a sequence of
<code>&#60;define></code> elements.  Some of these statements are nested
inside others.  The outermost <code>&#60;define></code> elements define SGML
<em>elements</em> and <em>entities</em>. Nested inside each element definition
are the definitions of its <em>attributes</em>.  Any definition can also
contain documentation. </p>

<p>When converted to HTML for documentation purposes, the nested attribute
definitions are indented. Documentation elements are nested one more level and
typeset in italics.  The <code>&#60;/define></code>, <code>&#60;doc></code>,
and <code>&#60;/doc></code> tags are omitted. </p>

<p>Certain elements are only meaningful inside of other elements. For example,
<code>&#60;then></code> elements only occur inside <code>&#60;if></code>
elements.  By convention, the definitions of these elements follow that of
their parent in element.  </p>

<h3><a name="quick">Quick Reference Table</a></h3>

<table
    border="1" frame="border">
<thead>
<tr>
<td>Element Type</td>
<td>Element</td>
<td>Attributes</td>
<td>Subelements</td>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#Construct">Construct Specification</a></td>
<td><code><a href="tsdoc/basic.html#define">&#60;define></a></code></td>
<td><code><a href="tsdoc/basic.html#define.element">element</a></code><br>
    <code><a href="tsdoc/basic.html#define.attribute">attribute</a></code><br>
    <code><a href="tsdoc/basic.html#define.entity">entity</a></code><br>
    <code><a href="tsdoc/basic.html#define.notation">notation</a></code></td>
<td><code><a href="tsdoc/basic.html#value">&#60;value></a></code><br>
    <code><a href="tsdoc/basic.html#action">&#60;action></a></code></td>
</tr>
<tr>
<td><a href="#Tagset">Tagset</a></td>
<td><code><a href="tsdoc/basic.html#tagset">&#60;tagset></a></code></td>
<td><code><a href="tsdoc/basic.html#tagset.name">name</a></code><br>
    <code><a href="tsdoc/basic.html#tagset.include">include</a></code><br>
    <code><a href="tsdoc/basic.html#tagset.tagset">tagset</a></code><br> 
    <code><a href="tsdoc/basic.html#tagset.recursive">recursive</a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="5"><a href="#Namespace">Namespace</a></td>
<td><code><a href="tsdoc/basic.html#namespace">&#60;namespace></a></code></td>
<td><code><a href="tsdoc/basic.html#namespace.name">name</a></code><br>
    <code><a href="tsdoc/basic.html#namespace.hide">hide</a></code><br>
    <code><a href="tsdoc/basic.html#namespace.pass">pass</a></code><br>
</td>
<td><code><a href="tsdoc/basic.html#bind">&#60;bind></a></code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#bind">&#60;bind></a></code></td>
<td><code><a href="tsdoc/basic.html#bind.name">name</a></code><br></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#get">&#60;get></a></code></td>
<td><code><a href="tsdoc/basic.html#get.name">name</a></code><br></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#let">&#60;let></a></code></td>
<td><code><a href="tsdoc/basic.html#let.name">name</a></code><br></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#set">&#60;set></a></code></td>
<td><code><a href="tsdoc/basic.html#set.name">name</a></code><br></td>
<td>None</td>
</tr>
<tr>
<td rowspan="2"><a href="#Documentation">Documentation</a></td>
<td><code><a href="tsdoc/basic.html#doc">&#60;doc></a></code></td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#note">&#60;note></a></code></td>
<td><code><a href="tsdoc/basic.html#note.author">author</a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="2"><a href="#Control">Control Structure</a></td>
<td><code><a href="tsdoc/basic.html#if">&#60;if></a></code></td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#repeat">&#60;repeat></a></code></td>
<td><code><a href="tsdoc/basic.html#repeat.list">list</a></code><br>
    <code><a href="tsdoc/basic.html#repeat.start">start</a></code><br>
    <code><a href="tsdoc/basic.html#repeat.stop">stop</a></code><br> 
    <code><a href="tsdoc/basic.html#repeat.step">step</a></code><br> 
    <code><a href="tsdoc/basic.html#repeat.entity">entity</a></code></td>
<td><code><a href="tsdoc/basic.html#foreach">&#60;foreach></a></code><br>
    <code><a href="tsdoc/basic.html#for">&#60;for></a></code><br>
    <code><a href="tsdoc/basic.html#while">&#60;while></a></code><br>
    <code><a href="tsdoc/basic.html#until">&#60;until></a></code><br>
    <code><a href="tsdoc/basic.html#first">&#60;first></a></code><br>
    <code><a href="tsdoc/basic.html#finally">&#60;finally></a></code></td>
</tr>
<tr>
<td rowspan="2"><a href="#Logical">Logical </a></td>
<td><code><a href="tsdoc/basic.html#logical">&#60;logical></a></code></td>
<td><code><a href="tsdoc/basic.html#logical.op">op</a></code><br>
    <code><a href="tsdoc/basic.html#logical.and">&nbsp;and</a></code><br>
    <code><a href="tsdoc/basic.html#logical.or">&nbsp;or</a></code></td>
<td>None</td>
</tr>
<td><code><a href="tsdoc/basic.html#test">&#60;test></a></code></td>
<td><code><a href="tsdoc/basic.html#test.not">not</a></code><br>
    <code><a href="tsdoc/basic.html#test.text">text</a></code></td>
<td>None</td>
</tr>
<tr>
<td><a href="#Document">Document Structure</a></td>
<td><code><a href="tsdoc/basic.html#extract">&#60;extract></a></code></td>
<td><code><a href="tsdoc/basic.html#extract.sep">sep</a></code><br>
    <code><a href="tsdoc/basic.html#extract.all">all</a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="6"><a name="#Expansion" href="#Expansion">Expansion
Control</a></td>
<td><code><a href="tsdoc/basic.html#expand">&#60;expand></a></code></td>
<td><code><a href="tsdoc/basic.html#hide.hide">hide</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#protect">&#60;protect></a></code></td>
<td><code><a href="tsdoc/basic.html#protect.result">result</a></code><br>
    <code><a href="tsdoc/basic.html#protect.markup">markup</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#hide">&#60;hide></a></code></td>
<td><code><a href="tsdoc/basic.html#hide.markup">markup</a></code><br>
    <code><a href="tsdoc/basic.html#hide.text">text</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#debug">&#60;debug></a></code></td>
<td>None</td>
<td>None</td>
</tr>

<tr>
<td><code><a href="tsdoc/xhtml.html#show-errors">&#60;show-errors></a></code></td>
<td>None</td>
<td>None</td>
</tr>

<tr>
<td><code><a href="tsdoc/xhtml.html#pretty">&#60;pretty></a></code></td>

<td><code><a href="tsdoc/xhtml.html#pretty.hide-above-depth">hide-above-depth</a></code><br>  
    <code><a
    href="tsdoc/xhtml.html#pretty.hide-below-depth">hide-below-depth</a></code><br>
    <code><a  href="tsdoc/xhtml.html#pretty.hide-below-tag">hide-below-tag</a></code><br>
<code><a href="tsdoc/xhtml.html#pretty.white-tag">white-tag</a></code><br>
<code><a
href="tsdoc/xhtml.html#pretty.yellow-tag">yellow-tag</a></code><br> </td>
<td>None</td>
</tr>


<tr>
<td rowspan="4"><a href="#DataManip">Data Manipulation</a></td>
<td><code><a href="tsdoc/basic.html#numeric">&#60;numeric></a></code></td>
<td><code><a href="tsdoc/basic.html#numeric.op">op</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.sum">&nbsp;sum</a></code><br>
    <code><a
    href="tsdoc/basic.html#numeric.difference">&nbsp;difference</a></code><br> 
    <code><a
    href="tsdoc/basic.html#numeric.product">&nbsp;product</a></code><br>
    <code><a
    href="tsdoc/basic.html#numeric.quotient">&nbsp;quotient</a></code><br> 
    <code><a
    href="tsdoc/basic.html#numeric.remainder">&nbsp;remainder</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.power">&nbsp;power</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.sort">&nbsp;sort</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.reverse">&nbsp;&nbsp;reverse</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.pairs">&nbsp;&nbsp;pairs</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.sep">&nbsp;&nbsp;sep</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.digits">digits</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.integer">integer</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.extended">extended</a></code><br>
    <code><a href="tsdoc/basic.html#numeric.modulus">modulus</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#text">&#60;text></a></code></td>
<td><code><a href="tsdoc/basic.html#text.pad">pad</a></code><br>
    <code><a href="tsdoc/basic.html#text.trim">trim</a></code><br>
    <code><a href="tsdoc/basic.html#text.width">width</a></code><br>
    <code><a href="tsdoc/basic.html#text.align">align</a></code><br>
    <code><a href="tsdoc/basic.html#text.sort">sort</a></code><br>
    <code><a href="tsdoc/basic.html#text.reverse">reverse</a></code><br>
    <code><a href="tsdoc/basic.html#text.pairs">pairs</a></code><br>
    <code><a href="tsdoc/basic.html#text.sep">sep</a></code><br>
    <code><a href="tsdoc/basic.html#text.split">split</a></code><br>
    <code><a href="tsdoc/basic.html#text.join">join</a></code><br>
    <code><a href="tsdoc/basic.html#text.encode">encode</a></code><br>
    <code><a href="tsdoc/basic.html#text.decode">decode</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#subst">&#60;subst></a></code></td>
<td><code><a href="tsdoc/basic.html#subst.match">match</a></code><br>
    <code><a href="tsdoc/basic.html#subst.result">result</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#parse">&#60;parse></a></code></td>
<td><code><a href="tsdoc/basic.html#parse.usenet">usenet</a></code><br>
    <code><a href="tsdoc/basic.html#parse.query">query</a></code><br>
    <code><a href="tsdoc/basic.html#parse.element">element</a></code><br>
    <code><a href="tsdoc/basic.html#parse.elements">elements</a></code><br>
    <code><a href="tsdoc/basic.html#parse.attr">attr</a></code><br>
    <code><a href="tsdoc/basic.html#parse.pairs">pairs</a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="4"><a href="#External">External Resources</a></td>
<td><code><a href="tsdoc/basic.html#include">&#60;include></a></code></td>
<td><code><a href="tsdoc/basic.html#include.src">src</a></code><br>
    <code><a href="tsdoc/basic.html#include.tagset">tagset</a></code><br>
    <code><a href="tsdoc/basic.html#include.entity">entity</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#output">&#60;output></a></code></td>
<td><code><a href="tsdoc/basic.html#output.dst">dst</a></code><br>
    <code><a href="tsdoc/basic.html#output.append">append</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#connect">&#60;connect></a></code></td>
<td><code><a href="tsdoc/basic.html#connect.method">method</a></code><br>
    <code><a href="tsdoc/basic.html#connect.src">src</a></code><br>
    <code><a href="tsdoc/basic.html#connect.mode">mode</a></code><br>
    <code><a href="tsdoc/basic.html#connect.tagset">tagset</a></code><br>
    <code><a href="tsdoc/basic.html#connect.entity">entity</a></code><br>
    <code><a href="tsdoc/basic.html#connect.result">result</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#status">&#60;status></a></code></td>
<td><code><a href="tsdoc/basic.html#status.src">src</a></code><br>
    <code><a href="tsdoc/basic.html#status.entity">entity</a></code><br>
    <code><a href="tsdoc/basic.html#status.item">item</a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="5"><a href="#DataStruct">Data Structure</a></td>
<td><code><a class="DOCUMENT"
    href="tsdoc/basic.html#DOCUMENT">&#60;DOCUMENT></a></code> </td>
<td><code><a href="tsdoc/basic.html#DOCUMENT.protocol">protocol</a></code><br>
    <code><a href="tsdoc/basic.html#DOCUMENT.version">version</a></code><br>
    <code><a href="tsdoc/basic.html#DOCUMENT.code">code</a></code><br>
    <code><a href="tsdoc/basic.html#DOCUMENT.message">message</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code class="HEADERS"><a
    href="tsdoc/basic.html#HEADERS">&#60;HEADERS></a></code></td>
<td><code><a href="tsdoc/basic.html#HEADERS.element">element</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a class="header"
    href="tsdoc/basic.html#header">&#60;header></a></code></td>
<td><code><a href="tsdoc/basic.html#header.name">name</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#query">&#60;QUERY></a></code></td>
<td><code><a href="tsdoc/basic.html#query.element">element</a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#url.html">&#60;URL></a></code></td>
<td><code><a href="tsdoc/basic.html#url.protocol">protocol</a></code><br>
    <code><a href="tsdoc/basic.html#url.host">host</a></code><br>
    <code><a href="tsdoc/basic.html#url.port">port</a></code><br>
    <code><a href="tsdoc/basic.html#url.path">path</a></code><br>
    <code><a href="tsdoc/basic.html#url.reference">reference</a></code><br>
    <code><a href="tsdoc/basic.html#url.query">query</a></code></td>
<td>None</td>
</tr>
</tbody>
</table>

<h2><a name="Construct">Construct Specification Elements</a></h2><p>The
construct specification elements are used to create a tagset. They
include the <code><a href="tsdoc/basic.html#define">&#60;define></a></code> element
and its subelements.</p><table border="1" frame="border">
<thead>
<tr>
<th>Subelements of &#60;define></th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="tsdoc/basic.html#value">&#60;value></a></code></td>
</tr>
<tr>
<td> <code><a class="action"
    href="tsdoc/basic.html#action">&#60;action></a></code></td>
</tr>
</tbody>
</table><p>The <code>&#60;define></code> element can be used to
specify any of the following tag types:</p><ul><li><code>element</code></li>
<li><code>attribute</code></li>
<li><code>entity</code></li>
<li><code>word</code></li></ul><p>The <code>&#60;define> </code>element
must be predefined for bootstrapping, but it is <em>not</em> in
the tagset unless placed there.</p><p>The tagset is not recursive.
For that reason, tags cannot be used as actions.</p><p>The <code>&#60;define></code> element
can occur outside of a <code>&#60;namespace> </code>or <code>&#60;tagset></code> element because
there is always a "current" namespace and tagset in effect.</p><p>A <code>&#60;define> </code>element
that contains neither a<code> &#60;value> </code>nor an <code>&#60;action> </code>subelement defines
only syntax. The defined construct is simply passed through to the
output by the processor, with its contents and attributes, if any,
processed in turn. </p><p>A <code>&#60;define> </code>element can
contain anything at all. All content with the exception of the <code>&#60;value></code>, <code>&#60;action></code>,
and possibly <code>&#60;doc> </code>elements are discarded. This
means that a definition can contain arbitrary <em>decorative</em> markup,
and that arbitrary computation can be done in the course of processing
a definition.</p><p>A construct can be "defined" more than once.
In such cases, the attributes are effectively merged. The associated
value and/or action are replaced. This technique is used to associate
a new value with a construct, and to associate an action with a
construct that has already been defined.</p><h3>Construct Specification
Attributes</h3><p>The following attribute of the <code>&#60;define></code> element
is used to specify the type of construct being defined and whether
it is required or optional. The name of the element defined is expressed
as the value of the <em>element</em> attribute.</p><p>The attributes
for <code>&#60;define element></code> are of the form</p><blockquote><code>&#60;define
attribute='construct_type' optional></code></blockquote><p>They
are summarized here and described in more detail below:</p><table
    border="1" frame="border">
<thead>
<tr>
<th>Construct Type</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td><a>element</a></td>
</tr>
<tr align="left">
<td><a>attribute</a> </td>
</tr>
<tr align="left">
<td><a>entity</a> </td>
</tr>
<tr align="left">
<td><a>notation</a></td>
</tr>
</tbody>
</table><h3>Modifiers for Structure Constructors</h3><h4><a
    name="general"></a>General Modifiers</h4><p>The following
sections describe the available modifiers for the structure constructor
elements.</p><p>In working with these modifiers consider the following:</p><ul>
<li>Modifiers for <code>&#60;define> </code>element are meaningful <em>only</em> when
defining an element. It is impossible to represent this constraint
in SGML. </li>
<li>The use of <code>parent=</code> in subelements of <code>&#60;define></code>specifies
that these elements only occur inside the given parent element;
in this case, <code>&#60;define></code>. The value of the <code>parent</code> attribute
is a list which is appended to with each use, allowing the DTD to
be incrementally extended. <br>The use of <code>parent</code> greatly
simplifies the construction of content models and the parser. An element
with a parent implicitly terminates any unclosed elements between
it and its innermost parent.</li></ul><table border="1"
    frame="border">
<thead>
<tr>
<th>Modifier Type</th>
<th>Modifier </th>
</tr>
</thead>
<tbody>
<tr align="left">
<td><a href="#general">General modifiers for <code>&#60;define></code></a></td>
<td><code><a>handler</a></code></td>
</tr>
<tr>
<td rowspan="5"><a href="#moddefelt">For <code>&#60;define
element></code></a></td>
<td><code><a>quoted</a></code></td>
</tr>
<tr>
<td><code><a>literal</a></code></td>
</tr>
<tr>
<td><code><a>text</a></code></td>
</tr>
<tr>
<td><code><a>no-text</a></code></td>
</tr>
<tr>
<td><code><a>empty</a></code></td>
</tr>
<tr>
<td rowspan="3"><a href="#moddefattr">For <code>&#60;define
attribute></code></a></td>
<td><code><a>optional</a></code></td>
</tr>
<tr>
<td><code><a>required</a></code></td>
</tr>
<tr>
<td><code><a>fixed</a></code></td>
</tr>
<tr>
<td rowspan="8"><a href="#moddefent">For <code>&#60;define
entity></code></a></td>
<td><code><a>system</a></code></td>
</tr>
<tr>
<td><code><a>public</a></code></td>
</tr>
<tr>
<td><code><a>mode</a></code></td>
</tr>
<tr>
<td><code><a>method</a></code></td>
</tr>
<tr>
<td><code><a>NDATA</a></code></td>
</tr>
<tr>
<td><code><a>tagset</a></code></td>
</tr>
<tr>
<td><code><a>retain</a></code></td>
</tr>
<tr>
<td><code><a>parameter</a></code></td>
</tr>
</tbody>
</table>

<h2><a name="Tagset"></a>Tagset and Namespace</h2>

<p>The <code>&#60;tagset></code> and <code>&#60;namespace></code> elements
provide the context in which <code>&#60;define></code> operates,
i.e., in which elements, entities, and so on are defined.</p><p>It
is, however, meaningful for <code>&#60;define></code> to occur outside
of a <code>&#60;namespace></code> or <code>&#60;tagset></code> element
because there is always a "current" namespace and tagset in effect.</p>

<h3><a name="Namespace"></a>Name Definition Elements</h3>

<p> The <code>&#60;namespace></code> element provides the context in which
    <code>&#60;define entity></code>, <code>&#60;get></code>,
    <code>&#60;set></code>, <code>&#60;let></code> and <code>&#60;bind></code>
    operate, i.e., in which names are associated with values.  It's best to
    think of a Namespace as a collection of what most programming languages
    call ``variables''.
</p>

<p>It is, however, meaningful for <code>&#60;define></code>, etc. to occur
outside of a <code>&#60;namespace></code> element
because there is always a "current" namespace in effect.  The outermost
namespace in a document is called (has the prefix) ``<code>VAR:</code>'',
because it contains the document processor's variables.</p>

<p> Namespaces are ``nested'' -- if a name is not defined in the current
    namespace, <code>&#60;get></code> will look ``up the stack'' to find a
    namespace that <em>does</em> contain it.  Inner namespaces always have the
    name of the element (tag) that defines them; the following elements define
    namespaces:
</p>

<ul>
  <li> <code>&lt;namespace&gt;</code>
  <li> <code>&lt;extract&gt;</code>
  <li> <code>&lt;repeat&gt;</code>
  <li> any tag defined by <code>&lt;define&gt;</code>
</ul>

<p> The difference between <code>&#60;let></code> and <code>&#60;set></code>
    is that if a variable already has a value, <code>&#60;set></code> will
    simply change its value no matter which namespace it's defined in.  If no
    such variable already exists, <code>&#60;set></code> will create one in
    the <em>outermost</em> namespace, <code>VAR:</code>.  On the other hand,
    <code>&#60;let></code> will always set a variable in the
    <em>innermost</em> namespace, and will create a new one there if
    necessary.
</p>

<p> The <code>&lt;bind&gt;</code> element is used almost exclusively for
    initialization: its contents are not expanded and the name cannot contain
    a namespace prefix.  It always defines its variable in the innermost
    namespace.  Because it makes no attempt to expand its contents,
    <code>&lt;bind&gt;</code> is significantly more efficient when it can be
    used.  You will usually see it in XML code resulting from the
    <code>output</code> of a namespace; this allows namespaces and things that
    resemble namespaces (e.g., Agents) to be read in efficiently.
</p>

<h3>Documentation Elements</h3>

<p>The elements <code>&#60;doc></code> and <code>&#60;note></code>
are subelements of <code>&#60;tagset></code> and <code>&#60;namespace></code>.
They are processed by the <code>tsdoc</code> tagset to automatically construct
the text portion of tagset documentation files.</p>

<h2><a name="Control"></a>Control Structure Elements</h2>

<p>Control structure elements modify the
control flow of an expansion, by selectively including, skipping,
or repeating some content. The control structure elements are
<code>&#60;if></code> and <code>&#60;repeat></code>.</p>

<p>The control structure elements are summarized here:</p>

<h3><code><a href="#if">&#60;if></a></code> and its Components</h3>

<table border="1" frame="border">
<thead>
<tr>
<th>Subelement </th>
<th>Parent</th>
<th>Handler</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="tsdoc/basic.html#then">&#60;then></a></code></td>
<td><code>&#60;if></code> <br><code>&#60;else-if></code> <br><code>&#60;elif></code> <br><code>&#60;elsf></code></td>
<td><code>quoted</code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#else">&#60;else></a></code></td>
<td><code>&#60;if></code></td>
<td><code>quoted</code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#else-if">&#60;else-if></a></code></td>
<td><code>&#60;if></code></td>
<td><code>elsf</code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#elsif">&#60;elsf></a></code></td>
<td><code>&#60;if></code></td>
<td></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#elif">&#60;elif></a></code></td>
<td><code>&#60;if></code></td>
<td><code>elsf</code></td>
</tr>
</tbody>
</table><h3><a name="Repeat"></a><code>&#60;repeat></code> and
its Components</h3><p>The contents of a <code><a>&#60;repeat></a></code> are
repeatedly expanded. All of the following subelements are effectively
iterating in parallel, which makes it easy to go through multiple
lists and number the corresponding elements.</p><table border="1"
    frame="border">
<thead>
<tr>
<th>Subelement </th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a>&#60;foreach></a></code></td>
<td><code><a>entity</a></code></td>
</tr>
<tr>
<td rowspan="4"><code><a>&#60;for></a></code></td>
<td><code><a>entity</a></code></td>
</tr>
<tr>
<td><code><a>start</a></code></td>
</tr>
<tr>
<td><code><a>stop</a></code></td>
</tr>
<tr>
<td><code><a>step</a></code></td>
</tr>
<tr>
<td><code><a>&#60;start></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;stop></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;step></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;while></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;until></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;first></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;finally></a></code></td>
<td>None</td>
</tr>
</tbody>
</table><h2><a name="Logical"></a>Logical Elements</h2><p>The
logical elements are <code>&#60;logical></code> and <code>&#60;test></code>.</p><table
    border="1" frame="border">
<thead>
<tr>
<td>Element</td>
<td>Attribute</td>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="3"><code><a>&#60;logical></a></code></td>
<td><code><a>op</a></code></td>
</tr>
<td><code><a>&nbsp;and</a></code></td>
</tr>
<tr>
<td><code><a>&nbsp;or</a></code></td>
</tr>
<tr>
<td rowspan="10"><code><a>&#60;test></a></code></td>
<td><code><a>text</a></code></td>
</tr>
<tr>
<td><code><a>not</a></code></td>
</tr>
<tr>
<td><code><a>zero</a></code></td>
</tr>
<tr>
<td><code><a>positive</a></code></td>
</tr>
<tr>
<td><code><a>negative</a></code></td>
</tr>
<tr>
<td><code><a>numeric</a></code></td>
</tr>
<tr>
<td><code><a>match</a></code></td>
</tr>
<tr>
<td><code><a>exact</a></code></td>
</tr>
<tr>
<td><code><a>case</a></code></td>
</tr>
<tr>
<td><code><a>null</a></code></td>
</tr>
</tbody>



</table><h2><a name="Document"></a>Document Structure Elements</h2><p>Document
structure elements extract nodes or sets of nodes from a parse tree,
and perform structural modifications on trees. The tree being operated
on need not be part of the document being processed. It might be
a namespace or the value of an entity.</p><p>These elements consist
of the <code>&#60;extract></code> element and its subelements. </p><table
    border="1" frame="border">
<thead>
<tr>
<th>Element</th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="2"><code><a>&#60;extract></a></code></td>
<td><code><a>sep</a></code></td>
</tr>
<tr>
<td><code><a>all</a></code></td>
</tr>
</tbody>
</table><table border="1" frame="border">
<thead>
<tr>
<th>Subelement Type</th>
<th>Subelement </th>
<th>Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="5">Starting Point</td>
<td><code><a>&#60;from></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;in></a></code></td>
<td>None</td>
</tr>
<tr>
<td rowspan="3"><code><a>&#60;id></a></code></td>
<td><code><a>case</a></code></td>
</tr>
<tr>
<td><code><a>recursive</a></code></td>
</tr>
<tr>
<td><code><a>all</a></code></td>
</tr>
<tr>
<td rowspan="6">Extraction</td>
<td rowspan="3"><code><a>&#60;name></a></code></td>
<td><code><a>case</a></code></td>
</tr>
<tr>
<td><code><a>recursive</a></code></td>
</tr>
<tr>
<td><code><a>all</a></code></td>
</tr>
<tr>
<td rowspan="3"><code><a>&#60;key></a></code></td>
<td><code><a>sep</a></code></td>
</tr>
<tr>
<td><code><a>recursive</a></code></td>
</tr>
<tr>
<td><code><a>all</a></code></td>
</tr>
<tr>
<td rowspan="5">Replacement</td>
<td rowspan="2"><code><a>&#60;replace></a></code></td>
<td><code><a>name</a></code></td>
</tr>
<tr>
<td><code><a>case</a></code></td>
</tr>
<tr>
<td><code><a>&#60;append></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;remove></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a>&#60;unique></a></code></td>
<td>None</td>
</tr>
</tbody>
</table><h3>Extract and its Components</h3><p>The subelements of
extract fall into three groups:</p><ul><li>Subelements of <code>&#60;extract></code>:
Starting Points</li>
<li>Subelements of <code>&#60;extract></code>: Extraction<br><code>text</code> can
occur inside a <code>&#60;extract></code> element. Text is split
on whitespace and interpreted as follows: <ul><li>If the text is
a number <em>N</em>, it extracts the <em>N<sup>th</sup></em> node
in the current set. The first node is zero, and negative numbers
are counted from the last node. </li>
<li>If the text starts with a pound sign (<code>#</code>), it is
matched as a node type. The list of node types is defined in the <a
    href="http://www.w3.org/TR/1998/WD-xptr-19980303">XPointer
specification</a>, plus locally-defined types. In addition, <code>#all</code> is
defined, matching <em>any</em> node. Type matching is case-insensitive.</li>
<li>Otherwise, it is matched as a "<em>name</em>." The name of an
entity or attribute is the name it is defined to have; the name
of an element is its tag name. </li></ul>Text items are applied <em>sequentially</em>,
so that, for example, <code>... li -1</code> extracts the last <code>&#60;li></code> element
in the current set.</li>
<li>Subelements of <code>&#60;extract></code>: Replacement</li></ul><h2><a
    name="Expansion"></a>Expansion Control Elements</h2><p>Expansion
control elements modify the processing of their contents, but are
not conditional in the same way that control-structure operations
are. No tests are performed.</p><table border="1" frame="border">
<thead>
<tr>
<th>Element</th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="tsdoc/basic.html#expand">&#60;expand></a></code></td>
<td><code><a>hide</a></code></td>
</tr>
<tr>
<td rowspan="2"><code><a href="tsdoc/basic.html#protect">&#60;protect></a></code></td>
<td><code><a>result</a></code></td>
</tr>
<tr>
<td><code><a>markup</a></code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#hide">&#60;hide></a></code></td>
<td><code><a>text</a></code></td>
</tr>
<tr>
<td><code><a href="tsdoc/basic.html#debug">&#60;debug></a></code></td>
<td>None</td>
</tr>
<tr>
<td><code><a href="tsdoc/xhtml.html#show-errors">&#60;show-errors></a></code></td>
<td>None</td>
</tr>
</tbody>

<tr>
<td rowspan="5"><code><a href="tsdoc/xhtml.html#pretty">&#60;pretty></a></code></td>
<td><code><a>hide-above-depth</a></code></td>
</tr>
<tr>
<td><code><a>hide-below-depth</a></code></td>
</tr>
<tr>
<td><code><a>hide-below-tag</a></code></td>
</tr>
<tr>
<td><code><a>white-tag</a></code></td>
</tr>
<tr>
<td><code><a>yellow-tag</a></code></td>
</tr>

</table><h2><a name="DataManip"></a>Data Manipulation Elements</h2><p>Data
manipulation elements perform operations on data, typically text,
that depend on some non-structural features of its content (e.g.
its value as a number).</p><table border="1" frame="border">
<thead>
<tr>
<th>Element</th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="14"><code><a href="tsdoc/basic.html#numeric">&#60;numeric></a></code></td>
<td><code><a>sum</a></code></td>
</tr>
<tr>
<td><code><a>difference</a></code></td>
</tr>
<tr>
<td><code><a>product</a></code></td>
</tr>
<tr>
<td><code><a>quotient</a></code></td>
</tr>
<tr>
<td><code><a>remainder</a></code></td>
</tr>
<tr>
<td><code><a>power</a></code></td>
</tr>
<tr>
<td><code><a>sort</a></code></td>
</tr>
<tr>
<td><code><a>reverse</a></code></td>
</tr>
<tr>
<td><code><a>pairs</a></code></td>
</tr>
<tr>
<td><code><a>sep</a></code></td>
</tr>
<tr>
<td><code><a>digits</a></code></td>
</tr>
<tr>
<td><code><a>integer</a></code></td>
</tr>
<tr>
<td><code><a>extended</a></code></td>
</tr>
<tr>
<td><code><a>modulus</a></code></td>
</tr>
<tr>
<td rowspan="12"><code><a href="tsdoc/basic.html#text">&#60;text></a></code></td>
<td><code><a>pad</a></code></td>
</tr>
<tr>
<td><code><a>trim</a></code></td>
</tr>
<tr>
<td><code><a>width</a></code></td>
</tr>
<tr>
<td><code><a>align</a></code></td>
</tr>
<tr>
<td><code><a>sort</a></code></td>
</tr>
<tr>
<td><code><a>reverse</a></code></td>
</tr>
<tr>
<td><code><a>pairs</a></code></td>
</tr>
<tr>
<td><code><a>sep</a></code></td>
</tr>
<tr>
<td><code><a>split</a></code></td>
</tr>
<tr>
<td><code><a>join</a></code></td>
</tr>
<tr>
<td><code><a>encode</a></code></td>
</tr>
<tr>
<td><code><a>decode</a></code></td>
</tr>
<tr>
<td rowspan="2"><code><a href="tsdoc/basic.html#subst">&#60;subst></a></code></td>
<td><code><a>match</a></code></td>
</tr>
<tr>
<td><code><a>result</a></code></td>
</tr>
</tbody>
</table><h2><a name="External"></a>External Resources</h2><p>External
"resources" include both documents local to the system on which
the document processor resides (i.e. files), and remote resources
(specified with complete URLs).</p><table border="1" frame="border">
<thead>
<tr>
<th>Element</th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="4"><code><a>&#60;include></a></code></td>
<td><code><a>src</a></code></td>
</tr>
<tr>
<td><code><a>tagset</a></code></td>
</tr>
<tr>
<td><code><a>entity</a></code></td>
</tr>
<tr>
<td><code><a>quoted</a></code></td>
</tr>
<tr>
<td rowspan="3"><code><a>&#60;output></a></code></td>
<td><code><a>dst</a></code></td>
</tr>
<tr>
<td><code><a>append</a></code></td>
</tr>
<tr>
<td><code><a>directory</a></code></td>
</tr>
<tr>
<td rowspan="6"><code><a>&#60;connect></a></code></td>
<td><code><a>method</a></code></td>
</tr>
<tr>
<td><code><a>src</a></code></td>
</tr>
<tr>
<td><code><a>mode</a></code></td>
</tr>
<tr>
<td><code><a>tagset</a></code></td>
</tr>
<tr>
<td><code><a>entity</a></code></td>
</tr>
<tr>
<td><code><a>result</a></code></td>
</tr>
<tr>
<td rowspan="3"><code><a>&#60;status></a></code></td>
<td><code><a>src</a></code></td>
</tr>
<tr>
<td><code><a>entity</a></code></td>
</tr>
<tr>
<td><code><a>item</a></code></td>
</tr>
</tbody>
</table><h2><a name="DataStruct"></a>Data Structure Elements</h2><p>Data
structure elements perform no operations. They represent common
forms of complex structured data. Strictly speaking, <code><code>&#60;tagset></code></code> and <code><code>&#60;namespace></code></code> are
data structure elements. Often a data structure element has a representation
that is a <em>subclass</em> of the representation of an ordinary
element. (Currently <code>org.risource.dps.active.ParseTreeElement</code>).</p><table
    border="1" frame="border">
<thead>
<tr>
<th>Element </th>
<th>Subelements</th>
<th>Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="4"><code><a>&#60;DOCUMENT></a></code></td>
<td><code><a>&#60;protocol></a></code></td>
<td rowspan="4">None</td>
</tr>
<tr>
<td><code><a>&#60;version></a></code></td>
</tr>
<tr>
<td><code><a>&#60;code></a></code></td>
</tr>
<tr>
<td><code><a>&#60;message></a></code></td>
</tr>
<tr>
<td rowspan="2"><code><a>&#60;HEADERS> </a></code></td>
<td rowspan="2">None</td>
<td><code><a>element</a></code></td>
</tr>
<tr>
<td><code><a>name</a></code></td>
</tr>
<tr>
<td><code><a>&#60;Query></a></code></td>
<td><code><a>&#60;Query></a></code></td>
<td><code><a>element</a></code></td>
</tr>
<tr>
<td rowspan="6"><code><a>&#60;URL></a></code></td>
<td rowspan="6">None</td>
<td><code><a>protocol</a></code></td>
</tr>
<tr>
<td><code><a>host</a></code></td>
</tr>
<tr>
<td><code><a>port</a></code></td>
</tr>
<tr>
<td><code><a>path</a></code></td>
</tr>
<tr>
<td><code><a>reference</a></code></td>
</tr>
<tr>
<td><code><a>query</a></code></td>
</tr>
</tbody>
</table><hr><b>Copyright © 1999 Ricoh Silicon Valley</b><br></body></html>
