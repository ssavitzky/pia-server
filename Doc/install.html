<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html><head><title>PIA Installation Manual, release 2.0</title></head>

<body>
<center><h1>Installing the PIA</h1></center>
<big>

<p>This manual describes how to install the Platform for Information
   Applications (PIA).  
</p>

<dl>
  <dt> <strong>Contents:</strong>
  <dd> 
       <ul>
	 <li> <a href="#Installing">Installing the Files</a></li>
	 <li> <a href="#Setup">Initial Setup</a>
	 <li> <a href="#Running">Running the PIA</a></li>
       </ul>
</dl>
</big>

<dl>
  <dt> <strong>See also:</strong>
  <dd>
       <ul>
	 <li> <a href="using.html">Using the PIA</a> for further information
	      about configuring, operating, and updating the PIA.
	 <li> <a href="http://www.risource.org/PIA/Downloading.shtml">
	      <code>http://www.risource.org/PIA/Downloading.shtml</code></a>
	      for information about obtaining the files in the first place.
	 <li> The <a href="author.html">Author's Guide</a> if you want to
	      construct applications using the PIA.
	 <li> The <a href="doclist.html">PIA Document List</a>, a complete
	      list of the PIA's online documentation.
       </ul>
</dl>

<hr>
<h2><a name="Installing">Installing the Files</a></h2>

<big>
<p> We will assume that you have already downloaded and unpacked the PIA
    files.  You should now have a directory called <code>PIA</code>; this is
    the PIA's ``<em>home directory</em>'' and will be referred to from now on
    as ``<var>PIA_HOME</var>''.
</p>

<blockquote><small>

<p> The files are supplied in the form of a <code>gzip</code>'ed
    <code>tar</code> file, obtained as described in 
    <a href="http://www.risource.org/PIA/Downloading.shtml">
    <code>http://www.risource.org/PIA/Downloading.shtml</code></a>.
</p>

<p> You should unpack the <code>tar</code> archive inside the directory
    where you want the PIA to be installed; typically this will be your home
    directory, or possibly <code>/usr/local</code> or a subdirectory of
    <code>/usr/local/src</code> on a Unix system.
</p>

<p> Unpacking can be done on a Unix or Linux machine with one of the following
    two commands; <code>winzip</code> can be used on Windows.
</p>

<ol>
  <li> <code>tar xzf pia_src.tgz</code><br>
       (requires GNU <code>tar</code>).
  <li> <code>gunzip pia_src.tgz; tar xf pia_src*</code>
</ol>

</small></blockquote>

</big>

<h1>Initial Setup</h1>

<big>

<p> In order to use the PIA, the PIA program needs to know three things:
</p>

<ol>
  <li> Where to find its own files, including the Java class library.  This
       directory is the directory named <code>PIA</code> where the PIA was
       initially installed, and is called the PIA's ``<em>home</em>''
       directory, or <var>PIA_HOME</var>. 
  <li> Where the applications can write their data files, and the user can
       place new or customized applications.  This is called the PIA's
       ``<em>root</em>'' directory, or <var>PIA_ROOT</var>.
  <li> Where to find the applications and documents that it serves to a
       browser.  This is called the PIA's ``<em>virtual root</em>'' directory.
       In most cases, this is the same as the PIA's home directory.
</ol>

<blockquote><small>

<p> Two of these can (optionally) be set up using environment variables:</p>
<ol>
  <li> <var>PIA_HOME</var> indicates the location where the PIA files were
       installed.</li> 
  <li> <var>PIA_ROOT</var> indicates the location where the PIA web server
       looks for its web pages, and where applications write their data
       files.</li> 
</ol>

<p> Why two ``root'' directories?  So that one of them can be shared by many
    users and updated frequently (via CVS), while the other is personalized by
    each user and not overwritten by the updates. </p>

<p> The PIA's ``virtual root'' (usually <var>PIA_HOME</var>) directory
    <em>parallels</em> the ``real root'' (<var>PIA_ROOT</var>), but the real
    root has priority.  Whenever a PIA application needs to write a file it
    does so under the real root; similarly, whenever the PIA <em>serves</em> a
    file to a browser, it looks first under the real root.

<p> But if the PIA can't find a file in the real root, it then looks in the
    virtual root (because the PIA <em>never</em> tries to write files there,
    the virtual root could even be a CD-ROM!). The standard default virtual
    root for the PIA is <code>PIA_HOME</code>, the PIA's home directory.  In
    this way, we keep the PIA's files, which you have just downloaded and
    which can be automatically updated using CVS, separate from any
    application data and personal customizations you may have done.

</small></blockquote>

<p> As a consequence of this arrangement, <strong> we recommend you don't edit
    <i>anything</i> in <var>PIA_HOME</var>, which is automatically
    updated/overwritten by CVS, unless you are actively working on the PIA
    codebase.</strong> Instead, write everything under <var>PIA_ROOT</var>
    (e.g. <kbd>~/.pia</kbd>). </p>

<blockquote><small>
  <p> Most people will develop applications by making a new subdirectory
      of <code><var>PIA_ROOT</var>/Agents/</code>, then copying in documents
      from the <code>PIA/Samples</code> directory or from other applications.
      The completed application can then be moved to its proper place under
      <code><var>PIA_HOME</var></code> when the time comes to check it in.
  </p>
</small></blockquote>

<p> Usually the directory-setup process is invisible to you:
</p>

<ul>
  <li> <var>PIA_HOME</var> is set automatically by the script that starts the
       PIA. </li>
  <li> <var>PIA_ROOT</var> is <em>created</em> automatically the first time
       the PIA is run. </li>
</ul>

<blockquote><small>

<p> The execution scripts (e.g. <code>PIA/bin/pia</code>) attempt to set the
    <var>PIA_HOME</var> variable based on the location of the script or the
    current working directory.  But if you
    want to run the pia from a different location, or run a different version,
    you may have to explicitly set this variable to the location of the PIA
    directory you just installed.
</p>

<p> The directory <var>PIA_ROOT</var> is automatically created by the PIA the
    first time it is run.  You are free to change its location if desired; this
    can be done on the command line with the <kbd>-root</kbd> option, or by
    setting the environment variable <var>PIA_ROOT</var>.  On Unix, the
    default location for <var>PIA_ROOT</var> is <kbd>~/.pia</kbd>.  On
    Windows, the default directory is
    <code>c:\PIAUSERS\<var>username</var></code> (if a username is not
    available <code> nobody</code> is used).
</p>

<p> If you use the <kbd>-root</kbd> or <kbd>-home</kbd> command line option to
    specify <var>PIA_ROOT</var> or <kbd>PIA_HOME</kbd>, that setting takes
    precedence over the one you specify in the corresponding environment
    variable.
</p>

<p>It is convenient to put the directory <code><var>PIA_HOME</var>/bin</code>,
which contains scripts (including the one that implements the <code>pia</code>
command!)  into your shell's search path.  You may also want to specify a
different root.  On Linux you can do all of this by putting the following into
your <code>~/.bash_profile</code> file: </p>

<pre>
  # The following line will change depending on where the PIA is installed
  export PIA_HOME=$HOME/PIA
  export PATH=$PIA_HOME/bin:$PATH
  export PIA_ROOT=$HOME/.pia
</pre>

<p> This setup is not necessary if you always run the PIA using the command
    ``<code>PIA/bin/pia</code>'', but most users find this to be inconvenient.
</p>

<p> You may also need to set up Java's <code>CLASSPATH</code> environment
    variable.  The PIA's wrapper script will try to set one up for
    you, but whether it succeeds will depend on how clever your java
    implementation is.  You <em>don't</em> have to have
    <code><em>PIA_HOME</em>/src/java</code> in your <code>CLASSPATH</code>;
    the wrapper script <em>is</em> smart enough to add it for you.
</p>

<p> In addition, if you don't like the way this document looks because the
    difference in size between large and small fonts is too great, consider
    adding the following line to your <code>.Xdefaults</code> file.  Adjust
    the number to suit yourself; the default is 20 (percent).
</p>

<pre>
  Netscape*documentFonts.sizeIncrement:	15
</pre>
</small></blockquote>

</big>

<h1><a name="Running">Running the PIA </a></h1>

<big>
<p> It is easiest to launch the  PIA for the first time with the command
    <code>PIA/bin/pia</code>.<p>

<blockquote><small>

<p>On UNIX or Linux, once you have set up the <code><var>PIA_HOME</var></code>
and <code><var>PIA_ROOT</var></code> environment variables you can launch the
PIA with the command: ``<code>$PIA_HOME/bin/pia</code>'', or just
``<code>pia</code>'' if <code>$PIA_HOME/bin</code> is in your search path.  A
complete list of command-line options can be found by running
<kbd>$PIA_HOME/bin/pia -help</kbd> at the shell prompt.</p>

<p>Under Windows 9x and NT, launch the PIA in a DOS window with the command:
<code><var>PIA_HOME</var>/bin/pia.bat</code> -- this is a batch file that makes
use of the <code><var>PIA_HOME</var></code> and <code><var>PIA_ROOT</var></code>
environment variables, and is similar in function to <code>pia_wrapper</code>
on Unix.</p>

<p> More information about running the PIA, including the available
    command line and configuration file options, can be found in the companion
    manual <a href="using.html">Using the PIA</a>.
</p>

</small></blockquote>

<h1>Using the PIA</h1>

<p> The PIA acts as a Web server.  Assuming you have gotten the PIA to run in
    its default configuration, you should now be able to browse to <code><a
    href="http://localhost:8888/">http://localhost:8888/</a></code> in order
    to access the PIA's own web pages. </p>

<blockquote><small>

<p>If the default configuration is
    different and you have run the PIA from a command line, it will have
    printed out a line like:
</p>

<pre>
  Point your browser to &lt;URL: http://blackroot.crc.ricoh.com:8001&gt;
</pre>

<p> after initializing, and you can cut-and-paste the URL on that line into
    your browser and go from there. 
</p>

<p> There are some applications---such as a browser proxy and browsing-history
    system---which require that your browser use the PIA as a proxy.  This
    enables the PIA to process any incoming and outgoing pages as you would
    like.  See the <code>Proxie</code> for more details.
</p>

<p> It is also possible to use the PIA ``off line'' from the command line, as
    a pure document processor.  See <a href="using.html#process">Using the
    PIA</a>.
</p>

</small></blockquote>
</big>

<h1><a name="Questions">Questions, Problems, or Comments</a></h1>

<big>
<p> See the section on <a
    href="using.html#Troubleshooting">Troubleshooting</a> in
    <a href="using.html">Using the PIA</a> if you're having problems getting
    the PIA started, or if it does something unexpected.
</p>

<p>You can check for known bugs by going to <code><a
href="http://www.RiSource.org/PIA/">
http://www.risource.org/PIA/</a></code></p>

<p> Questions, problems and comments should be directed to <code><a
href="mailto:pia-bugs@risource.org">PIA-bugs@risource.org</a></code>.  </p>

</big>

<hr>
<b>Copyright &copy; 1999 <a href="http://rsv.ricoh.com/">Ricoh Silicon
   Valley</a>.</b>
   Open Source at &lt;<b><a href="http://RiSource.org/">RiSource.org</a>/<a
                         href="http://RiSource.org/PIA">PIA</a></b>&gt;.<br>
<i>$Id: install.html,v 1.18 1999-10-20 16:20:06 steve Exp $</i><br>


</body></html>
