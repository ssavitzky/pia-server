<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!-- Begin Document Specific Declarations -->


<!-- End Document Specific Declarations -->


<html><head><title>PIA Installation Manual, release 2.0</title></head>

<body><center><h1>Installing the PIA</h1></center><p>This manual
describes how to install the Platform for Information Applications
(PIA).  Developers intending
to create applications should also consult <a href = "author.html">Authoring
Agents</a>.</p><p>Topics covered include:</p>

<ul><li><a href = "#Before">Before You Begin</a></li>
<li><a href = "#Obtaining">Obtaining the Files</a></li>
<li><a href = "#Installing">Installing the Files</a></li>
<li><a href = "#Running">Running the PIA</a></li>
<li><a href = "#Questions">Questions, Problems and Comments</a></li></ul>
<p>
For information on use of the PIA, see the <a href = "doclist.html">PIA
Document List</a>.</p>
<hr>
<h2><a name = "Before"></a>Before You Begin</h2>
<p>
You need the following software to run the PIA:</p>
<ul>
<li> Java (A Java Runtime Environment, <code>JRE 1.1.3</code> or higher, is
     needed to use the software.  Programmers wishing to modify the code will
     need a Java Development Kit <code>JDK</code>.) Java can be obtained from <code>
     <a href = "http://www.javasoft.com">java.sun.com</a></code> (direct links
     to <a
     href="http://www.javasoft.com/products/jdk/1.2/jre/index.html">JRE</a> or
     <a href="http://www.javasoft.com/products/jdk/1.2/">JDK</a>)</li>
<li>An operating system that supports sockets and long filenames.<br>We
have run the PIA software on Linux (Red Hat 4.2 with the <a
     href="http://www.blackdown.org/">blackdown.org</a> JDK), Windows 9X, and
     Solaris on SPARC.  It does not seem to work on the Macintosh
     because of differences in file handling.</li>
<li>Utilities for unpacking the files (<code>tar</code> and
     <code>gunzip</code> on unix, <code> winzip </code> on Windows)<br>
 </li></ul>


<h2><a name = "Obtaining">Obtaining the Files</a></h2>
<p>
The PIA files are available via HTTP, from <code>
<a href = "http://www.risource.org/PIA/">http://www.risource.org/PIA/</a>.</code></p>
<p>
The latest stable releases are maintained in compressed form in the
directories <code>ftp://ftp.risource.org/PIA/pia_src.tgz</code>.
</p>

<h2>Uncompressing the Files</h2>
<p>
Before the PIA files can be extracted from the tar file, it must first
be uncompressed.  For example:
</p>
<blockquote>
<code>gunzip pia_src.tgz</code>
</blockquote>

<h2><a name = "Installing">Installing the Files</a></h2>
<p>
The files are supplied in the form of a gzip'ed tar file. Set your working
directory to the intended parent directory for the PIA files.
Extract the files using <code>tar</code>.  For example:
</p>

<blockquote><code>tar xvf pia_src</code></blockquote>

<p>
This creates the directory <code>PIA/</code> under your current directory. </p>

<table
    border = "1" frame = "border">
<caption> Directory Structure (inside the PIA directory)</caption>
<tbody>
<tr>
<th align = "left">Agents</th>
<td>Subdirectories for each standard agent. Each agent's directory
contains the collection of XML files (active pages) that work together
to form an application.<br>Default XML files for standard pages,
like the home page of an agent.</td>
</tr>
<tr>
<th align = "left">Config</th>
<td>Configuration information stored in the form of property files.
 Look here to permanently change things such as ports and proxy
information.</td>
</tr>
<tr>
<th align = "left">Contrib</th>
<td>Used for contributed agents and other files that are not a part
of the standard release.</td>
</tr>
<tr>
<th align = "left">bin</th>
<td>Programs that actually run the PIA software either as a web
server (<code> pia, pia.bat </code> or as a command line filter <code> process</code>.
 Note that <code>pia</code> and <code>process</code> run under Unix
only.)</td>
</tr>
<tr>
<th align = "left">lib</th>
<td>Precompiled java libraries needed to run the software.</td>
</tr>
<tr>
<th align = "left">src</th>
<td valign = "top"><code>src/java/</code> contains the Java source
files used in the PIA software.<br> <strong> If you want to set
the classpath by hand, set it to <code>PIA/src/java/</code> not <code>PIA/src</code>!</strong><br>The
 main code is in <code>src/java/org/risource/*</code> corresponding to <code>org.risource.*</code>  package
names.  
<br><code>src/org</code> and <code>src/misc</code> contain
code referenced by the PIA software and included for convenience. <code>src/app</code> contains
utility applications.</td>
</tr>
</tbody>
</table>

<h3 id = "CHDCECIE">Setting Up</h3>
<p>
The
PIA uses two environment variables:</p>
<ul><li><var>PIA_DIR</var> indicates the location of the PIA directory just installed.</li>

<li><var>USR_DIR</var> indicates the location to which the PIA writes
its data files.</li></ul>

<p>The scripts in the bin directory that run the software attempt to set the
<var>PIA_DIR</var> variable based on the location of the script or the current
working directory.  You may have to explicitly set this variable to the
location of the PIA directory you just installed (e.g. <code>PIA_DIR=~/PIA</code>).</p>

<p>
<var>USR_DIR</var> is automatically created by the PIA. You are free to reset its location
if desired.  On Unix, the default directory for <var>USR_DIR</var> is <kbd>~/.pia</kbd>.
On Windows, the default directory is <code>c:\PIAUSERS\<var>username</var></code> (if a username is
not available <code> nobody</code> is used).</p>

<p>If you use the <kbd>-u</kbd> command line option to specify <var>USR_DIR</var>,
that setting takes precedence over the one you specify in the environment
variable.</p><p>When the PIA starts, it looks for the <code>pia.props</code> under <code>~/.pia/Config</code>.
You can create a customizable copy in your home directory under <code>~/.pia/Config</code> by
copying <tt>pia/Config/pia.props</tt> and modifying it using a text
editor. (Note that this example assumes <var>USR_DIR is ~/.pia)</var></p>

<p>The default settings of the PIA are contained in
<code>PIA/Config/pia.props</code>. These settings can be overridden by a local
copy of <code>pia.props</code> in <code>USR_DIR/Config/pia.props</code>, by
environment variables or on the command line.  Command lines options can be
given in the form of switches (e.g. <code>-p 8000</code>) or at the end of the
command line in the form of <code> prop=value </code> (e.g. <code> pia.port=8000</code>.)

</p>

<p>It
is convenient to put the directory <code>pia/bin</code> into your
shell's search path. 
</p>

<h2><a name = "Running">Running the PIA </a></h2>

<p>On UNIX, once you have set up the <code><var>PIA_DIR</var></code> 
and <code><var>USR_DIR</var></code> environment
variables, you can launch the PIA with the command: <code>PIA_DIR/bin/pia.</code>This
is a one-line shell script that runs <em>pia_wrapper</em>. A complete
list of command-line options can be found by running <kbd>PIA_DIR/bin/pia
-?</kbd> at the shell prompt.</p> Note that the <code>process</code> command
allows the PIA software to be used as a unix filter for processing HTML and
XML documents.

<p>Under Windows 95 and NT, launch the PIA with the command: <code>PIA_DIR/bin/pia.bat</code>.</p>

<p>This is a batch file that makes use of the <var>PIA_DIR</var> and <var>USR_DIR</var> environment
variables. It is equivalent to the following:<kbd>java -classpath <var>CPATH</var> or.risource.Pia
-root <var>PIA_DIR</var> -u <var>PIA_HOME</var></kbd></p>

<p>Note the <code>-root</code> and <code>-u</code> options. The
<code>-p</code> option can be used to set the port (default is 8888, a
non-priveleged port that allows normal user logins to run the PIA on Unix
boxes.  You may set the port to 80 if you don't like including the port number
in URL's of the form http://HOST:8888).</p>

<h2>Using the PIA</h2>

<p>The PIA acts essentially as a Web server. Assuming you are running on a machine
called <code>PiaHOST</code> using <code>piaPORT</code>, simply browse
to <code>http://piaHOST:piaPORT</code> </p>

<p>Some of the functions work best if you set your browser's proxies to
the PIA as well. In most cases, <code>http://localhost:8888</code> will
work.</p><h2><a name = "Questions">Questions, Problems, or Comments</a></h2><p>You
can check for known bugs by going to 
<code><a href = "http://www.RiSource.org/PIA/">http://www.risource.org/PIA/</a></code></p>
<p>
Questions, problems and comments should be directed to <code><a href="mailto:pia-bugs@risource.org">PIA-bugs@risource.org</a></code>.
</p>
<hr>
<p><b>Copyright 1999 Ricoh Silicon Valley</b></p>
</body></html>
