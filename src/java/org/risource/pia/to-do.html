<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>PIA: To-Do List</title>
</head><body>
<h1>To-Do List</h1>

<blockquote><em>
  This file contains pending tasks for the <code>org.risource.pia</code> package
</em></blockquote>

See also:
<ul>
  <li> <a href="done.html">Completed tasks</a>
  <li> <a href="#Keywords">Keywords</a>
  <li> <a href="#end">Oldest Entry</a> (at end.)
</ul>

<h2>Cleanup and refactoring</h2>
<ol>
  <li> Move Piaproperties to <code>ds</code>; rename.
  <li> Make a generic Tabular wrapper similar to Piaproperties.  Use for
       extracting typed data from generic tables, attr lists, etc.  Could be
       based on Assoc.
  <li> Rename Tabular to StringMap
  <li> Use StringMap interface for headers, etc.
  <li> <b>Hole</b> Simplify the Pia class and initialization.
</ol>

<h2>Main List</h2>
<ol>
  <li> <b>Bug</b> AGENT needs tagset attr. <br>
       This avoids the current bogus check for
       <code><em>name</em>-xhtml</code> in AgentBuilder.
       (1999-09-16) <br>

  <li> <b>Impr</b> Use <code>Site</code> to simplify Pia. <br>
       Almost all (perhaps <em>all</em>) the metadata on Pia could be obtained
       from the configuration.  Maybe Pia should simply extend Site.  If not,
       at least it should use a Site to avoid the PiaProperties game.
       (1999-09-10) <br>

  <li> <b>Hole</b> Use <code>site</code> to simplify Agent. <br>
       Mainly, everything in <code>Agent</code> related to
       <code>findDocument</code> and agent naming goes away.  Almost
       everything, in other words!  Even <code>respond</code>, etc. can go
       away, because <code>HTTPRequest.toMachine</code> can do the document
       lookup.  Agents can still specify handling by setting the request's
       <code>toMachine</code> field.

       <p>The Resolver gets simpler, too.  <code>agentFromPath</code> moves to
       Root (the only place where it's called) and then goes away.
       (1999-08-20) <br>

       <p>

  <li> <b>Hole</b> Makefiles should work from DOS <br>
       That means that there should be recursive targets that don't use the
       shell.
       (1999-06-14) <br>

  <li> <b>Impr</b> Servlet Interface <br>
       Both the Resolver and Agent need to respond to the Servlet interface.
       There also needs to be a way to wrap an arbitrary Servlet as an Agent
       or (perhaps better) as a document inside an Agent. 
       (1999-06-11) <br>

  <li> <b>Hole</b> Criteria need to be XML <br>
       Among other things, there should be a way to perform arbitrary tests on
       a header.  It may even be desirable to allow arbitrary XXML code; this
       would also simplify programming, though it would require a different
       TopContext for efficiency.
       (1999-06-11) <br>

  <li> <b>Bug</b> No way for an act-on method to respond. <br>
       There doesn't seem to be any way for an XML act-on method to specify
       that the agent is to <em>handle</em> (respond to) the transaction.
       (1999-05-25) <br>

  <li> <b>Impr</b> use more namespaces instead of tables <br>
       The PIA namespace, MIME types, etc. should all be namespaces and saved
       as XML, rather than property lists saved as <em>name=value</em> pairs.
       (1999-05-24) <br>

  <li> <b>Impr</b> option to autosave agent-files <br>
       Admin agent option to autosave when an agent is loaded or saved.
       (1999-05-18) <br>

  <li> <b>Impr</b> Use more buffered streams and writers. <br>
       Content would be simplified (currently StreamContent does its own
       buffering; text content implementations are problematic).  There are
       probably some other places where files, etc. are read or written.
       (1999-05-10) <br>

  <li> <b>Hole</b> ProcessedContent should wait for first text. <br>
       ProcessedContent should wait for the first non-blank text before
       sending anything to the client.  This would allow the .xh file to
       modify the Transaction and headers, e.g. for error messages. 
       (1999-04-30) <br>

  <li> <b>Hole</b> AgentBuilder should re-init. if necessary. <br>
       Needs to check and see if the agent ``under construction'' actually
       exists.  In that case, it needs to <em>re</em>-initialize instead of
       blowing away the whole structure.
       (1999-05-03) <br>

  <li> <b>Impr</b> Need per-agent mapping of extension to tagset. <br>
       It really needs to be possible to fully specify the mapping of file
       extension to tagset.  The present technique is kludgy.  In some cases
       the mapping needs to include access method (GET/PUT/POST).
       (1999-03-11) <br>

  <li> <b>Hole</b> Regexp and Jigsaw must go! <br>
       (1999-02-09) <br>
       -- Jigsaw has been pared down to only what we need; RegExp is still a
	  problem.

  <li> <b>Bug</b> Header parsing exception handling <br>
       In a response, parseInitializationString should set defaults instead of
       throwing an exception, so that the browser at least gets the page.
       Ideally it should insert a suitable error message at the top of the
       page.
       (1998-11-16) <br>

  <li> <b>Hole</b> Namespaces needed: PIA, ENV, LOG, AGENTS <br>
       PIA: PiaProperties; basically everything on the Pia class.
       ENV: the environment (Java system props)
       LOG: User messages.  names include "debug", "message", "verbose", ...
       AGENTS: Resolver's agent table.  Initialize an agent with
       <code>&lt;set name=AGENTS:foo&gt;options&lt;/&gt;</code>.
       Need version info in PIA namespace.
       (1998-11-02)<br>
       -- PIA (1999-03), AGENTS (1999-04-27)
       
  <li> <b>Hole</b> Interface Cleanup <br>
       Make most attributes conform to get/set convention instead of the
       legacy perl convention.  Remove most convenience methods,
       e.g. the ones that set criteria, etc.

  <li> <b>Bug:</b> ProcessedContent doesn't do insertions. <br>
       Neither does its predecessor, InterFormContent.
       (1998-07-08) <br>

</ol>

<a name="end">(End of list)</a>

<h2><a name="Keywords">Description of Keywords</a></h2>

(Listed in order of decreasing urgency.)

<dl>
  <dt> <b>Bug</b>
  <dd> A (typically small) problem with a simple, unambiguous description of
       its symptoms.
  <dt> <b>Hole</b>
  <dd> A piece of missing, but important, functionality.
  <dt> <b>Goal</b>
  <dd> A target capability (includes a date)
  <dt> <b>Check</b>
  <dd> Something to check for; a potential stumbling block or place where the
       implementor may have cut corners in the heat of the moment.  For
       example, Y2K problems.
  <dt> <b>Impr</b>ovement
  <dd> A desirable improvement.
  <dt> <b>Prop</b>osal
  <dd> A proposal that will need to be discussed further.
  <dt> <b>Wish</b>
  <dd> A desired improvement of low priority.
</dl>

<hr>
<b>Copyright &copy; 1998 Ricoh Silicon Valley</b><br>
<b>$Id: to-do.html,v 1.24 1999-09-17 23:39:42 steve Exp $</b><br>
<address><a href="http://rsv.ricoh.com/~steve/"
         >Stephen R. Savitzky</a> &lt;<a href="mailto:steve@rsv.ricoh.com"
         >steve@rsv.ricoh.com</a>&gt;</address>
</body></html>
