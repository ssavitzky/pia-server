<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>About the PIA Core Engine</title>
</head><body>
<h1>About the PIA Core Engine</h1>

<blockquote><em>
  This document contains notes about the PIA's core server engine, as
  implemented in the Java module <code>org.risource.pia</code>.
</em></blockquote>

<h3>See Also:</h3>
<ul>
  <li> <a href="../dps/about.html">About the DPS</a> in
       <a href="../dps/"><code>../dps/</code></a>
</ul>

<h2>Recent Changes</h2>

<p> As of 9/9/99 (End Of File Day -- seems appropriate) I am starting to make
    major changes in the implementation of Agents and the PIA core server.  I
    expect them to be finished and ready for public consumption in about a
    week.

<p> The main change is that Agents will no longer handle Transactions directly
    under most circumstances (the old <code>handle</code> method will still be
    there so that a specialized agent can specify special handling if
    necessary.  A cache agent might do this, for example.)  Agents will
    <em>not</em> handle transactions directed at their ``home URL'' by
    default -- this association will be made in a different way.

<p> If a Transaction is not proxied, its default action will be to go to the
    PIA's ``Site'' (<code>Pia.getSite()</code>), locate the
    <code>Resource</code> specified by the URL, and return the associated
    document.  This is done by means of a one-line change in
    <code>HTTPRequest.toMachine</code> that defaults to to
    <code>Pia.getSiteMachine()</code> when no toMachine has been specified.

<p> As a result of this change, a ``Root'' agent is no longer necessary; its
    function was simply to map URL paths onto agents.  It is also no longer
    necessary to have an Agent for each top-level directory in URL space; the
    net effect is to speed up transaction processing in the Resolver.  Mapping
    URL's to files is also sped up considerably because the classes in the
    <code>org.risource.site</code> package do the lookup more efficiently than
    <code>GenericAgent</code> used to.

<p> It is possible to register a ``home directory'' in URL space that is
    web-accessible as ``<code>/~<em>name</em></code>'' following the usual
    web/Unix convention for home directories.  (Note that in the Reader's
    Helper, for example, it would make a great deal of sense to give each user
    a home directory.)  These directories will <em>usually</em> be associated
    with agents, though this need not be the case.  The ability to have
    unregistered agents and non-agent home directories gives the site designer
    full control over the top-level namespace.

<p> Even if an Agent has not registered its home directory at the top level it
    will still have one: the directory in which the document that contains the
    agent's state resides.  An Agent with persistent state will automatically
    write out its state document whenever it changes.

<p> It is the <code>SiteMachine</code>'s responsibility to track down the
    agent associated with a directory URL and make it available as a
    <code>Namespace</code> when executing the documents in that directory.
    Multiple agents may share a home directory; their namespaces will
    <em>all</em> be available under the agents' names (e.g.,
    <code>History:</code> as well as the default <code>AGENT:</code>).


<h3>Views</h3>

<p> Because the top-level configuration file of a Site does not have to be
    part of the Site, it's easy to construct multiple views of a directory
    (for example, the PIA).  For example, simply making the PIA home directory
    the root of the should give a purely passive view of the tree.  For a
    server with agents, the root can be <code>PIA/Agents/ROOT</code>, with the
    actual agent directories virtualized, and the documentation virtualized
    read-only.  

<h2>Philosophy</h2>


<h2>Implementation</h2>

<h3>Processing Overview</h3>


<h3>Algorithms</h3>


<h3>Data Structures</h3>




<hr>
<b>Copyright &copy; 1998 Ricoh Silicon Valley</b><br>
<b>$Id: about.html,v 1.5 1999-09-10 23:34:46 steve Exp $</b><br>
<address><a href="http://rsv.ricoh.com/~steve/"
         >Stephen R. Savitzky</a> &lt;<a href="mailto:steve@rsv.ricoh.com"
         >steve@rsv.ricoh.com</a>&gt;</address>
</body></html>
