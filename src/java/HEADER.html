<h1><a href="../../-">PIA</a> / <a href="../">src</a> / java</h1>

<p>
<a href="../">[..]</a>
<a href="#files">[files]</a> (
  <a href="JP/">JP</a>
  <a href="misc/">misc</a>
  <a href="org/"><b>org</b></a>
)
</p>

<p> This directory contains the source code for classes and applications
    written in Java (which makes no firm distinction between a library class
    and the top-level class of an application).
</p> 

<dl>
  <dt> <b>Note:</b>
  <dd> This is the root of the Java package tree; it is <em>not</em> the
       <code>java</code> package.  Your <code>$CLASSPATH</code> should contain
       this directory, or alternatively you should execute your
       <code>java</code> and <code>javac</code> commands <em>in</em> this
       directory.  (This is, effectively, what the <code>Makefile</code>s do.)
</dl>

<h2>Annotated Contents</h2>

<h3>Package Directories</h3>
<dl>
  <dt> <a href="JP/"><code>JP</code></a> 
  <dd> Code from Japanese organizations and companies (i.e. entities in the
       <code>.jp</code> top-level domain).
  <dt> <x href="com/"><code>com</code></a>
  <dd> Classes developed by commercial entities that have chosen to abide by
       Sun's package naming conventions and also released Java code under an
       open-source license compatible with ours, would go here.  So far, there
       aren't any.
  <dt> <a href="misc/"><code>misc</code></a>
  <dd> Classes developed elsewhere that do not specify a package. 
  <dt> <a href="org/"><code>org</code></a>
  <dd> Classes developed by organizations that have chosen to abide by Sun's
       package naming convention. (e.g. <code>org.w3c</code>...).
       <dl>
	 <dt> <a href="org/risource"><code>org.risource</code></a>
	 <dd> Code from <a href="http://www.RiSource.org/">
	      <font color="#c40026" 
                    face="Verdana, Arial, Helvetica, sans-serif"
                    >Ri</font><font color="black"
	                            face="Verdana, Arial, Helvetica, sans-serif"
                    ><i>Source.org</i></font></a>
	 <dt> <a href="org/w3c"><code>org.w3c</code></a>
	 <dd> Code from the <a href="http://www.w3.org/">World Wide Web
	      Consortium</a>.  This may eventually change to <code>w3</code>,
	      depending on exactly which conventions the Consortium decides to
	      follow. 
	 <dt> <a href="org/xml"><code>org.xml</code></a>
	 <dd> Code from <a href="http://xml.org/"><code>xml.org</code></a>.
       </dl>
  </dd>
</dl>

<h3>Other Directories</h3>

<dt>
  <dt> <a href="makefiles/">makefiles/</a>
  <dd> Makefiles
</dl>

<h3>Source Code and Class Files</h3>

<p> This directory is the logically-correct place to put source code for
    classes that do not have a package, and it is where the Java compiler
    <em>will</em> put the <code>.class</code> files of such classes, no matter
    where their sources are located in the tree.  Don't be surprised to find
    <em>.class</em> files in this directory.
</p>

<h3>Log Files</h3>

<p> The PIA build process can be made to keeps log of all builds in this tree;
    using the ``<code>make&nbsp;logs</code>'' command.  This is <em>not</em>
    normally done as part of the release process, but it can be useful for
    tracking problems.  <code>all_source.log</code> <em>is</em> made; it
    contains a list of all <code>.java</code> source files in the tree.
</p>

<dl>
  <dt> <a href="all_source.log">all_source.log</a>
  <dd> Sorted list of all Java source files in the tree. 
  <dt> <a href="doc.log">doc.log</a>
  <dd> Log from doing ``<code>make doc</code>''.  Useful for tracking down
       problems with Javadoc comments.
  <dt> <a href="holes.log">holes.log</a>
  <dd> Log of all files that contain code or comments indicating that
       something is missing.  Generated by
       <a href="../app/tools/hole-report">../app/tools/hole-report</a>
  <dt> <a href="lines.log">lines.log</a>
  <dd> Line counts and filenames.  Can be fed to <code>xdu</code> for a
       graphical display.
  <dt> <a href="make.log">make.log</a>
  <dd> Log, preferably from doing
       ``<code>make all JAVAFLAGS=-deprecation</code>''
  <dt> <a href="summary.log">summary.log</a>
  <dd> Counts of holes and <code>.java</code> files; other summary
       information. 
</dl>

All log files can be regenerated with the command
<pre>
  make logs
</pre>

<h2>Building the PIA</h2>

<p> On a Unix machine, a simple
<pre>
  make all
</pre>
    in this directory will build all of the <code>.class</code> files.  Each
    subdirectory contains a <code>Makefile</code> that includes one or more
    templates from the <code><a href="makefiles/">makefiles/</a></code>
    subdirectory of this directory.

<p> The Makefiles are known to work on Linux with GNU make and Solaris with
    SUN's make.  It is <em>extremely unlikely</em> that they will work on any
    variety of Windows; they rely on having working Bourne-shell control
    structures, ``<code>/</code>'' as a filename separator, and a
    <code>cd</code> command that is not sticky between commands issued in
    sub-shells.

<p> The simplest thing to do on Windows would be to recursively enumerate
    all <code>.java</code> files under this directory, and turn the list into
    a suitable batch file.  The <em>best</em> thing would be to compute the
    complete dependency graph and compile the roots.


<h2>Naming Conventions</h2>

<p>Every effort has been made to reduce directory depth in order to accomodate
Microsoft and ISO9660 restrictions.  In particular, the hierarchy extends only
four more levels below this directory
(e.g. <code>org/risource/dps/handle</code>) in cases where package names are
under our control.  In the case of imports, we take what we can get and hope
that your operating system can cope.

<p>Moreover, every effort has been made to avoid pairs of files that cannot be
distinguished by case-insensitive filesystems.  Note, however, that if
the operating system <em>changes</em> the case in file names when a program
reads a directory, there is still an opportunity for problems (including, but
not limited to, broken links) to occur.

<p>Note that we do <em>not</em> guarantee that class names will be unique when
squashed down to DOS ``8.3'' format.  If your Java development system cannot
cope with this, you're out of luck.  We <em>do</em> recommend that class names
be kept to 15 characters or less, but that's just to prevent unwanted line
wraps and keep multi-column listings under control. 

<hr>
<b>Copyright &copy; 1997-2000 Ricoh Silicon Valley</b><br>
<b>$Id: HEADER.html,v 1.7 2000-05-01 23:22:05 steve Exp $</b>
<a name="files"><hr></a>

